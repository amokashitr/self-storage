<h1><%= t(:storage_units) %></h1>

<table class="table table-striped table-bordered datatable">
  <thead>
    <tr>
      <th style="width: 25%"></th>
      <th style="width: 40%"><h6><%= t(:details) %></h6></th>
      <th style="width: 35%"><h6><%= t(:units) %></h6></th>
    </tr>
  </thead>

  <tbody>
    <% @storage_units.each do |storage_unit| %>
      <tr>
        <td>
          <a class="custom-href" href="<%= storage_unit_path(storage_unit) %>" data-turbolinks="false">
            <% image = rand(1..20).to_s %>
            <%= image_tag (image + '.jpg'), size: '100x100' %>
          </a>
        </td>

        <td>
          <a class="custom-href custom-link" href="<%= storage_unit_path(storage_unit) %>" data-turbolinks="false">
            <span class="unit-detail unit-name"><%= storage_unit.name %></span>
            <span class="unit-detail unit-address"><%= get_address(storage_unit) %></span>
            <span class="unit-detail unit-contact" style="color: #c00"><%= t(:contact) + ': ' + storage_unit.contact_no %></span>
            <span class="unit-detail unit-rating" style="color: #c00"><%= storage_unit.rating.to_s + ' ' + t(:out_of) %> 5</span>
          </a>
        </td>

        <td>
          <a class="custom-href custom-link" href="<%= storage_unit_path(storage_unit) %>" data-turbolinks="false">
            <% storage_unit.units.take(3).each do |unit| %>
              <span style="font-weight: bold"><%= unit.size %></span>
              <span class="unit-data-rate"><%= t(:currency) + unit.rate.to_s %></span><br>
              <span class="unit-data-offer"><%= unit.offer %></span>
              <div><hr></div>
            <% end %>
            <span class="unit-detail unit-rating" style="color: #c00"><%= t(:find_more_units_at_this_facility) + ' >>' %></span>
          </a>
        </td>

      </tr>
    <% end %>
  </tbody>
</table>

<div class="pagination">
  <%= js_will_paginate @storage_units %>
</div>